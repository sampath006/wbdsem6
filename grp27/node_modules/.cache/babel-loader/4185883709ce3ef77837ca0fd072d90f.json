{"ast":null,"code":"var _jsxFileName = \"/Users/sampathkumarreddymanam/Documents/sem6/wbd/project-28-03/grp27/src/pages/home/Home.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from 'react';\nimport Header from '../../components/header/Header';\nimport Posts from '../../components/posts/Posts';\nimport Events from '../../components/events/Events';\nimport Sidebar from '../../components/sidebar/sidebar';\nimport Button from '@material-ui/core/Button';\nimport Pagination from '@material-ui/lab/Pagination';\nimport NavBar from \"../../components/navbar/NavBar\";\nimport SearchIcon from '@mui/icons-material/Search';\nimport Footer from \"../../components/footer/Footer\";\nimport \"./home.css\";\nimport axios from \"axios\";\nimport { useLocation } from 'react-router-dom';\nimport ReactPaginate from 'react-paginate';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function Home() {\n  _s();\n\n  //declaring the set and use states\n  const [index, setIndex] = useState(0);\n  const [posts, setPosts] = useState([]);\n  const [events, setEvents] = useState([]);\n  const [title, setTitle] = useState(\"\"); //fetching the user from the context\n\n  const [users, setUsers] = useState([]); //getting the window location\n\n  const {\n    search\n  } = useLocation(); //fetching the blog posts and events and also users\n\n  useEffect(() => {\n    const fetchPosts = async () => {\n      const res = await axios.get(\"/posts\" + search);\n      setPosts(res.data);\n    };\n\n    const fetchEvents = async () => {\n      const res = await axios.get(\"/events\" + search);\n      setEvents(res.data);\n    };\n\n    const fetchUsers = async () => {\n      const res = await axios.get(\"/users\");\n      setUsers(res.data);\n    };\n\n    fetchPosts();\n    fetchEvents();\n    fetchUsers();\n  }, [search]); //pagination\n\n  const slice = posts.slice(6 * index, 6 * index + 6); //it handles the change functionality\n\n  const handleChange = (event, value) => {\n    setIndex(value - 1);\n  };\n\n  const handleSearch = () => {\n    try {\n      window.location.replace(`/?title=${title}`);\n    } catch (err) {}\n  };\n\n  const currentURL = window.location.href;\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(NavBar, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 9\n    }, this), currentURL === \"http://localhost:3000/\" ? /*#__PURE__*/_jsxDEV(Header, {\n      events: events\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 51\n    }, this) : \" \", /*#__PURE__*/_jsxDEV(Sidebar, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 10\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"searchHome\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"searchTitle\",\n        children: /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: handleSearch,\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            className: \"searchByTitle\",\n            name: \"title\",\n            type: \"text\",\n            placeholder: \"Title\",\n            onChange: e => setTitle(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 76,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            type: \"submit\",\n            children: /*#__PURE__*/_jsxDEV(SearchIcon, {\n              style: {\n                color: \"black\",\n                fontSize: 40\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 77,\n              columnNumber: 43\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 77,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"home\",\n      children: /*#__PURE__*/_jsxDEV(Posts, {\n        posts: slice\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 12\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"paginate\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"innerPaginate\",\n        children: /*#__PURE__*/_jsxDEV(Pagination, {\n          count: Math.ceil(posts.length / 6),\n          onChange: handleChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(Footer, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true);\n}\n\n_s(Home, \"laWchbQDufpJnmbQYLDGW3lO3XU=\", false, function () {\n  return [useLocation];\n});\n\n_c = Home;\n\nvar _c;\n\n$RefreshReg$(_c, \"Home\");","map":{"version":3,"sources":["/Users/sampathkumarreddymanam/Documents/sem6/wbd/project-28-03/grp27/src/pages/home/Home.js"],"names":["React","useEffect","useState","Header","Posts","Events","Sidebar","Button","Pagination","NavBar","SearchIcon","Footer","axios","useLocation","ReactPaginate","Home","index","setIndex","posts","setPosts","events","setEvents","title","setTitle","users","setUsers","search","fetchPosts","res","get","data","fetchEvents","fetchUsers","slice","handleChange","event","value","handleSearch","window","location","replace","err","currentURL","href","e","target","color","fontSize","Math","ceil","length"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport Header from '../../components/header/Header';\r\nimport Posts from '../../components/posts/Posts';\r\nimport Events from '../../components/events/Events';\r\nimport Sidebar from '../../components/sidebar/sidebar';\r\nimport Button from '@material-ui/core/Button'\r\nimport Pagination from '@material-ui/lab/Pagination';\r\nimport NavBar from \"../../components/navbar/NavBar\";\r\nimport SearchIcon from '@mui/icons-material/Search';\r\nimport Footer from \"../../components/footer/Footer\"\r\nimport \"./home.css\";\r\nimport axios from \"axios\"\r\nimport { useLocation } from 'react-router-dom';\r\nimport ReactPaginate from 'react-paginate';\r\n\r\nexport default function Home() {\r\n    \r\n    //declaring the set and use states\r\n    const [index,setIndex] = useState(0)\r\n    const [posts, setPosts] = useState([]);\r\n    const [events, setEvents] = useState([]);\r\n    const [title, setTitle] = useState(\"\");\r\n\r\n    //fetching the user from the context\r\n    const [users, setUsers] = useState([])\r\n\r\n    //getting the window location\r\n    const {search} = useLocation(); \r\n\r\n    //fetching the blog posts and events and also users\r\n    useEffect(()=>{\r\n        const fetchPosts = async ()=>{\r\n            const res = await axios.get(\"/posts\"+search)\r\n            setPosts(res.data)\r\n        }\r\n        const fetchEvents = async ()=>{\r\n            const res = await axios.get(\"/events\"+search)\r\n            setEvents(res.data)\r\n        }\r\n        const fetchUsers = async() => {\r\n            const res = await axios.get(\"/users\")\r\n            setUsers(res.data)\r\n        }\r\n        fetchPosts();\r\n        fetchEvents();\r\n        fetchUsers();\r\n    },[search])\r\n\r\n    //pagination\r\n    const slice = posts.slice(6*index,6*index+6);\r\n\r\n    //it handles the change functionality\r\n    const handleChange = (event, value) => {\r\n        setIndex(value-1);\r\n      };\r\n    const handleSearch = ()=>{\r\n        try {\r\n            window.location.replace(`/?title=${title}`);\r\n        } catch (err) {\r\n            \r\n        }\r\n    }\r\n    const currentURL = window.location.href\r\n    return (\r\n        <>\r\n        <NavBar />\r\n        \r\n\r\n        {/* display slider in homepage */}\r\n        {(currentURL===\"http://localhost:3000/\")?(<Header events={events}/>) : ( \" \" )}\r\n         <Sidebar />\r\n\r\n        <div className=\"searchHome\">\r\n            <div className=\"searchTitle\">\r\n                <form onSubmit={handleSearch}>\r\n                    <input className=\"searchByTitle\" name=\"title\" type=\"text\" placeholder=\"Title\"onChange={(e) => setTitle(e.target.value)}></input>\r\n                    <Button type='submit'><SearchIcon style={{color:\"black\", fontSize:40}} /></Button>\r\n                </form> \r\n            </div>\r\n        </div>\r\n\r\n        <div className=\"home\">\r\n            {/* slicing the blogs */}\r\n           <Posts posts = {slice}/>\r\n        </div>\r\n        <div className='paginate'>\r\n            <div className = \"innerPaginate\">\r\n                {/* pagination */}\r\n                <Pagination count={Math.ceil(posts.length/6)} onChange={handleChange}/>\r\n            </div>\r\n        </div>\r\n        <Footer/>\r\n        </>\r\n    )\r\n}\r\n"]},"metadata":{},"sourceType":"module"}